require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([3],{48:function(t,n,o){"use strict";var e=i(o(2)),a=i(o(49));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(a.default))},49:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(51),a=o.n(e),i=o(52),s=!1;var r=function(t){s||o(50)},d=o(0)(a.a,i.a,r,null,null);d.options.__file="D:\\MyCode\\HB\\uni-app-login-20190108\\pages\\user\\user.vue",d.esModule&&Object.keys(d.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),d.options.functional&&console.error("[vue-loader] user.vue: functional components are not supported with templates, they should use render functions."),n.default=d.exports},50:function(t,n){},51:function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0});var e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},a=o(4),i=o(71);n.default={computed:e({},(0,a.mapState)("modules/userinfo",{forcedLogin:function(t){return t.forcedLogin},isLogin:function(t){return t.userInfo.isLogin}})),data:function(){return{version:1,size:0,download:null,status:0,dtask:null}},onLoad:function(){console.log(this.isLogin)},onUnload:function(){console.log("onUnload"),plus.downloader.clear(state),dtask.abort()},methods:e({},(0,a.mapMutations)(["logout"]),{bindLogin:function(){t.navigateTo({url:"../login/login"})},bindLogout:function(){this.logout(),this.forcedLogin&&t.reLaunch({url:"../login/login"})},androidCheckUpdate:function(){var n=this,o=this;t.request({url:"http://kk0221.ngrok.xiaomiqiu.cn/version.json",method:"GET",data:{},success:function(e){if(e.data&&1==e.data.status){if(3!=plus.networkinfo.getCurrentType())return void t.showToast({title:"有新的版本发布，检测到您目前非Wifi连接，为节约您的流量，程序已停止自动更新，将在您连接WIFI之后重新检测更新。",mask:!1,duration:5e3,icon:"none"});t.showToast({title:"有新的版本发布，检测到您目前为Wifi连接，程序已启动自动更新。新版本下载完成后将自动弹出安装程序。",mask:!1,duration:5e3,icon:"none"}),n.dtask=plus.downloader.createDownload(e.data.url,{},function(n,o){200==o?plus.runtime.install(plus.io.convertLocalFileSystemURL(n.filename),{},{},function(n){t.showToast({title:"安装失败",mask:!1,duration:1500})}):t.showToast({title:"更新失败",mask:!1,duration:1500})}),n.dtask.addEventListener("statechanged",o.onStateChanged,!1),n.dtask.start()}},fail:function(){},complete:function(){}})},onStateChanged:function(t,n){this.size=t.downloadedSize,this.download=t,this.status=n,console.log(JSON.stringify(plus.downloader))},checkUpdate:function(){(0,i.checkAppUpdate)()}})}}).call(n,o(1).default)},52:function(t,n,o){"use strict";var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("view",{staticClass:"content"},[o("view",{staticClass:"btn-row"},[o("button",{staticClass:"primary",attrs:{type:"primary",eventid:"IGX-0"},on:{tap:t.androidCheckUpdate}},[o("i",{staticClass:"icon iconfont icon-app_icons--",staticStyle:{"font-size":"18px"}}),o("text",[t._v(" 检查更新1")])],1),o("br"),o("button",{staticClass:"primary",attrs:{type:"primary",eventid:"7Sb-1"},on:{tap:t.checkUpdate}},[o("i",{staticClass:"icon iconfont icon-app_icons--",staticStyle:{"font-size":"18px"}}),o("text",[t._v(" 检查更新2")])],1),o("br"),t.download?o("view",[t._v("\n\t\t\t\t已下载: "+t._s(t.size/1024/1024+"M")),o("br"),t._v("\n\t\t\t\t总共:   "+t._s(t.download.totalSize/1024/1024+"M")),o("br"),t._v("\n\t\t\t\t完成进度: "+t._s(t.size/t.download.totalSize*100)+"%\n\t\t\t")],1):t._e(),o("br"),o("br"),o("br"),o("view",[t._v("======================")]),t.download?o("view",[t._v("\n\t\t\t\tID: "+t._s(t.download.id)+" "),o("br"),t._v(" \n\t\t\t\tURL: "+t._s(t.download.url)+" "),o("br"),t._v(" \n\t\t\t\t状态: "+t._s(t.download.state)+" "),o("br"),t._v(" \n\t\t\t\t参数: "+t._s(t.download.options)+" "),o("br"),t._v(" \n\t\t\t\t文件名: "+t._s(t.download.filename)+" "),o("br"),t._v(" \n\t\t\t\t已下载: "+t._s(t.download.downloadedSize)+" "),o("br"),t._v(" \n\t\t\t\t总大小: "+t._s(t.download.totalSize)+" "),o("br")],1):t._e(),o("br"),o("br"),o("br"),o("view",[t._v("======================")]),t.download?o("view",[t._v("\n\t\t\t\t"+t._s(t.dtask.id)+" "),o("br"),t._v(" \n\t\t\t\t"+t._s(t.dtask.url)+" "),o("br"),t._v(" \n\t\t\t\t"+t._s(t.dtask.state)+" "),o("br"),t._v(" \n\t\t\t\t"+t._s(t.dtask.options)+" "),o("br"),t._v(" \n\t\t\t\t"+t._s(t.dtask.filename)+" "),o("br"),t._v(" \n\t\t\t\t"+t._s(t.dtask.downloadedSize)+" "),o("br"),t._v(" \n\t\t\t\t"+t._s(t.dtask.totalSize)+" "),o("br")],1):t._e(),t.isLogin?t._e():o("button",{staticClass:"primary",attrs:{type:"primary",eventid:"ly3-2"},on:{tap:t.bindLogin}},[t._v("登录")]),t.isLogin?o("button",{attrs:{type:"default",eventid:"GGW-3"},on:{tap:t.bindLogout}},[t._v("退出登录")]):t._e()],1)])};e._withStripped=!0;var a={render:e,staticRenderFns:[]};n.a=a}},[48]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/user/user.js.map